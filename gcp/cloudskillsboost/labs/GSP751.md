# 与 Terraform 模块交互 (GSP751)
## 概览
随着您使用 Terraform 管理基础架构，所创建的配置会越来越复杂。单个 Terraform 配置文件或目录的复杂度并不存在固有限制，因此您可以在单个目录中不断编写和更新配置文件。但如果您真的这样做，那么可能会遇到以下一个或多个问题：

配置文件越来越难以理解和导航。
更新配置的风险会越来越高，因为更新配置中的一个块可能会给其他块造成意外的连带影响。
配置中相似块的重复程度可能会提高，例如，假设您配置了单独的开发/预演/生产环境，那么在更新配置的这些部分时就会造成更高的负担。
如果您想在多个项目和团队之间共享配置的某些部分，那么剪切配置块并在不同项目之间粘贴可能很容易出错，也难以维护。
在本实验中，您将了解到模块能如何解决这些问题、Terraform 模块的结构，以及使用和创建模块的最佳实践。

模块的用途是什么？
模块可以通过下面这些方式帮助解决以上问题：

整理配置：模块能将您配置的相关部分整理到一起，从而让配置更易于导航、理解和更新。即便中等复杂度的基础架构也可能需要实现包含成百上千行代码的配置。利用模块，您可以将配置整理为逻辑组件。

封装配置：使用模块的另一个好处是将配置封装为不同的逻辑组件。封装有助于防范一些意外后果（例如对配置中某一个部分的更改意外地造成其他基础架构变更），此外还有助于降低发生简单错误的可能性（例如为两个不同的资源使用同一个名称）。

重复利用配置：如果在编写所有配置时都完全不利用现有代码，那么就会耗费很多时间，而且也容易出错。通过使用模块，您可以重复利用自己编写的配置、您团队中的其他成员编写的配置，或者由其他 Terraform 从业者发布并可供您使用的模块，从而节省时间并减少代价高昂的错误。您还可以与自己的团队或大众分享由您编写的模块，让他们可以受益于您的劳动成果。

促进一致性并确保符合最佳实践：模块还有助于在您的配置中实现一致性。一致性让复杂的配置更易于理解，还有助于确保在您的所有配置中运用最佳实践。举例来说，云服务提供商提供了许多选项以用于配置对象存储服务，如 Amazon S3 (Simple Storage Service) 或 Google Cloud Storage 存储桶。许多备受关注的安全事件都涉及到未得到正确保护的对象存储，而且由于牵涉的复杂配置选项为数众多，很容易意外造成这些服务配置不当。

使用模块有助于减少此类错误。举例来说，您可以创建一个模块来描述贵组织的所有公开网站存储桶的配置方式，以及为用于记录应用日志的不公开存储桶创建另外一个模块。此外，如果需要更新某一类资源的一项配置，使用模块让您可以在一处执行更新，然后将更新应用于使用该模块的所有用例。

在本实验中，您将学习如何执行以下任务：
* 使用 Registry 中的模块
* 构建一个模块

## 设置和要求
略

## Terraform 模块是什么？
## 任务 1. 使用 Registry 中的模块
## 任务 2. 构建一个模块
