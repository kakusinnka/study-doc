# 实验室简介：用户身份验证：身份感知代理
身份感知代理（IAP）是一种资源，可用于设置对基于 https 的应用程序的身份验证，而无需使用 VPN。  
IAP 允许您通过 TLS 为应用程序建立中央授权层，因此您可以使用应用程序级访问控制模型，而不是依赖网络级防火墙。  
只有用户和组才能通过具有正确 IAM 角色的代理访问受 IAP 保护的应用程序和资源。  
代理在外部世界和内部服务之间提供一层保护。  
当您通过 IAP 授予用户对应用程序或资源的访问权限时，他们将受到所使用产品实施的精细访问控制的约束，而无需 VPN。  
当用户尝试访问受 IAP 保护的资源时，IAP 会执行身份验证和授权检查。  
IAP 通过 TLS 保护外部请求的身份验证和授权。  
IAP 无法防止虚拟机内部的活动，例如有人使用 SSH 访问虚拟机。  
IAP 也无法防止项目内的活动，例如项目内通过本地网络进行的虚拟机到虚拟机的通信。  

# [概述](https://www.cloudskillsboost.google/course_sessions/5373654/labs/353666)
在本实验中，您将使用 Google App Engine 构建一个最小的 Web 应用程序，然后探索使用身份感知代理 (IAP) 来限制对应用程序的访问并向其提供用户身份信息的各种方法。您的应用程序将：
* 显示欢迎页面
* 访问IAP提供的用户身份信息
* 使用密码验证防止用户身份信息被欺骗

你将学到什么：
* 如何使用 Python 编写和部署简单的 App Engine 应用程序
* 如何启用和禁用 IAP 以限制对您的应用程序的访问
* 如何将用户身份信息从 IAP 获取到您的应用中
* 如何以加密方式验证来自 IAP 的信息以防止欺骗

# 介绍
对 Web 应用程序的用户进行身份验证通常是必要的，并且通常需要在应用程序中进行特殊编程。对于 Google Cloud 应用，您可以将这些职责交给 Identity-Aware Proxy 服务。如果您只需要限制对选定用户的访问，则无需对应用程序进行任何更改。如果应用程序需要知道用户的身份（例如为了在服务器端保留用户首选项），身份感知代理可以用最少的应用程序代码提供该信息。  

什么是身份感知代理？  
身份感知代理 (IAP) 是一项 Google Cloud 服务，可拦截发送到您的应用程序的网络请求，使用 Google Identity Service 对发出请求的用户进行身份验证，并且仅允许来自您授权的用户的请求通过。此外，它还可以修改请求标头以包含有关经过身份验证的用户的信息。

# 设置和要求
略

# 任务 1. 部署应用程序并使用 IAP 保护它
略

# 任务 2. 访问用户身份信息
略

# 任务 3. 使用加密验证
略

# 恭喜！
略
