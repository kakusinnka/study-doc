# [概览](https://www.cloudskillsboost.google/course_sessions/5373174/labs/386357)
Google Cloud HTTP(S) 负载均衡是在全球 Google 接入点 (POP) 的 Google 网络边缘处实施的。定向到 HTTP(S) 负载均衡器的用户流量会进入距离用户最近的 POP，然后在 Google 全球网络上进行负载均衡，传输到具有足够可用容量的最近后端。
![](../images/http-load-balancing-lab.png)

# 任务 1. 配置健康检查防火墙规则
> 健康检查可确定负载均衡器的哪些实例能接收新的连接。在 HTTP 负载均衡的过程中，对负载均衡实例的健康检查探测来自于 130.211.0.0/22 和 35.191.0.0/16 范围内的地址。您的防火墙规则必须允许这些连接。

# 任务 2. 使用 Cloud Router 创建 NAT 配置
设置 Cloud NAT 服务让虚拟机实例仅通过 Cloud NAT 发送出站流量，并通过负载均衡器接收入站流量。

# 任务 3. 为 Web 服务器创建一个自定义映像
为负载均衡器的后端创建一个自定义 Web 服务器映像。
* 创建虚拟机
* 自定义虚拟机
* 将 Apache 服务设置为在虚拟机启动时启动
* 准备磁盘以创建自定义映像
* 创建自定义映像

# 任务 4. 配置实例模板并创建实例组
代管式实例组可使用实例模板来创建一组相同的实例。您可以使用这些实例来创建 HTTP 负载均衡器的后端。
* 配置实例模板
* 为代管式实例组创建健康检查
* 创建代管式实例组

# 任务 5. 配置 HTTP 负载均衡器
* 配置前端
* 配置后端
* 检查并创建 HTTP 负载均衡器

> HTTP(S) 负载均衡支持使用 IPv4 和 IPv6 地址来路由客户端流量。客户端 IPv6 请求会在全球负载均衡层终止，然后通过 IPv4 代理传输到您的后端。

# 任务 6. 对 HTTP 负载均衡器进行压力测试
略

# 任务 7. 回顾
略
