# 课程介绍
* 定义容器和容器映像。
* 生成应用程序并将其打包到容器映像中。
* 确定用于创建、测试和保护容器的最佳做法。
* 了解 Cloud Run 和 Google Kubernetes Engine 的基础知识。

# 容器简介
## 什么是容器？
容器是以下组件的包：应用程序代码，依赖关系，编程语言运行时，软件库。

## 容器镜像
容器映像表示一个模板，该模板定义如何在运行时实现容器实例。容器映像将应用程序与应用程序运行所需的所有内容打包在一起。

## 以下是一些需要记住的事项
* 容器映像是包含文件的存档：它包括可执行文件、系统库、数据文件等。
* 容器映像是自包含的。应用程序需要运行的所有内容都在容器映像中。例如，如果应用程序是 Node.js 应用程序，则源文件与 Node.js 运行时一起位于映像中。
* 容器是容器映像的运行时实例，表示容器的运行进程。

## 运行容器
将应用程序打包到容器映像后，可以在任何位置运行它。在 Google Cloud 上，您可以在虚拟机的 Compute Engine 上运行容器，也可以在 Kubernetes 集群上运行容器，也可以在 Cloud Run 上运行容器。在本地计算机上，可以使用 Docker 或 Podman 容器运行时。

Docker 是一个开放平台，用于开发和运行基于容器的应用程序。

Podman 是一种开源 Linux 工具，用于使用基于开放容器计划 （OCI） 的容器构建和运行应用程序。

## 容器配置
![](../images/container-config.png)  
1. 容器映像包含应用程序以及应用程序运行所需的所有内容。
2. 最小容器映像只有一个程序文件和一个运行它的命令。
3. 某些编程语言需要运行时（Java，Python，Node.js）。
4. 应用程序可能需要其他系统依赖项才能工作。

## 使用 Docker 构建容器映像
![生成和打包应用程序](../images/container-build-package.png)  

![Docker and Buildpacks](../images/container-docker-buildpack.png)  
Docker 是一个开放平台，可用于在容器中打包和运行应用程序。它提供了用于管理容器生命周期（从开发和打包到部署）的工具。

Docker 允许您使用称为 Dockerfile 的脚本来表达应用程序构建过程。Dockerfile 提供了一种低级方法，以复杂性为代价提供了灵活性。

Dockerfile 是一个清单，详细说明了如何将源代码转换为容器镜像。

Buildpack 是构建容器映像的另一种方法。它们与 Docker 不同，它们提供了一种使用启发式方法生成和打包源代码来生成容器映像的便捷方法。

## 以下是关于 Dockerfile 指令的重要事项：
首先将容器映像放在舞台上，每个 Dockerfile 指令都会更改该暂存的容器映像。  
* FROM 指令下载要从中开始的基础映像。例如，基础映像可以是“golang”，并包含构建和运行软件所需的工具。
* COPY 指令从生成上下文（通常是包含 Dockerfile 的目录）中提取文件。
* RUN 指令允许您从容器映像运行程序，以更改映像中的文件。
* 其他指令会更改容器配置，该配置会指出要启动的程序文件以及如何启动。


# Cloud Run 和 Google Kubernetes Engine 简介

# 课程回顾