# 了解 Google Cloud 安全和运营
    本课程探讨云中的成本管理、安全性和运营。
    首先，探讨了企业如何选择通过从云提供商购买 IT 服务来维护部分或不维护自己的基础设施。
    接下来，解释了云提供商和企业之间如何分担数据安全的责任，并探讨了 Google Cloud 内置的深度防御安全性。
    最后，介绍了 IT 团队和业务领导者需要如何重新思考云中的 IT 资源管理，以及 Google Cloud 资源监控工具如何帮助他们保持对云环境的控制和可见性。

# 课程信息
## 目标
* 定义核心云成本管理概念。
* 描述云中的财务治理以及 Google Cloud 推荐的有效云成本管理最佳实践。
* 定义最佳云安全性的共享责任模型。
* 解释 IT 团队和业务领导者如何使用 DevOps 和 SRE 的原则来提高云运营效率。
* 确定用于云资源监控和应用性能管理的 Google Cloud 解决方案。

# 课程介绍
## 课程介绍
* 在本课程中，我将研究云中的成本管理、安全性和运营，并探索每个领域的数字化转型最佳实践。
* 在模块 1 中，我重点关注云中的成本管理。传统的 IT 支出模式要求公司预先花费大量资金来建立和维护本地 IT 基础设施。在云中，企业维护部分或不维护自己的基础设施。相反，他们持续从云提供商那里购买 IT 服务。
* 在模块 2 中，我研究了云中的安全性。任何访问、存储或使用数据的企业都有责任保护该数据。在云中，数据安全的责任由云提供商和企业共同承担。
* 在第 3 单元中，我将介绍 IT 团队和业务领导者需要如何重新思考云中的 IT 资源管理。这包括通过敏捷应用程序开发平衡服务可用性和可靠性，以及发展团队结构以更好地服务客户。

## 学生幻灯片
* 略

# 云端财务治理
    采用云技术的组织将不可避免地需要从根本上改变其某些业务运营。
    第一个是关于财务治理。
    本模块解释了组织在管理云成本时面临的核心挑战，并通过三个视角提出了解决方案：人员、流程和技术。
    它还解释了在解析核心 Google Cloud 成本管理概念之前如何考虑使用云服务时的总拥有成本。
    最后描述了一些有效云成本管理的最佳实践。

## 简介
* 我将解释组织在管理云成本时面临的核心挑战，并通过三个视角提出解决方案。
* 接下来，我将解释如何在使用云服务时考虑总体拥有成本。
* 然后我将解析核心 Google Cloud 成本管理和概念，最后我将描述一些有效云成本管理的最佳实践。

## 云成本管理基础知识
* 对于在本地构建和部署应用程序的组织来说，非常重视资本支出（CapEx），以设置和维护其 IT 基础设施。
* 当组织使用云服务迁移或构建和部署应用程序时，就会更加重视运营支出（OpEx）。
* 云成本的可变性会影响人员、流程和技术。随着组织的适应，它需要一个跨技术、财务和业务职能的核心团队共同努力实时做出决策。通过这种密切合作，他们将能够持续控制和优化云成本。

## 总拥有成本
* 在 IT 领域，总拥有成本是指对基础设施内所有层以及整个企业的其他相关成本的全面评估。这包括购买硬件和软件、管理和支持、通信和用户费用，以及服务停机、培训和其他生产力损失的成本。
* 对于在本地构建和部署应用程序的组织来说，总拥有成本 (TCO) 包括设置、管理、控制和优化堆栈每一层的成本，以及所需的人员和熟练工人的成本。
* 云出现之前，IT 资本支出成本通常是集中管理的。
* 云出现之后，转向按需付费的运营支出模式。这一转变为技术团队提供了空间，可以更多地专注于在云中构建创新解决方案，而不是维护现有基础设施。

## 管理 Google Cloud 的最佳实践需要
* 在本视频中，我将介绍使用可用的 Google Cloud 工具进行持续成本管理的三种最佳实践和优势。
* 首先，组织需要确定管理成本的个人或团队。 如果是一个团队，最好由 IT 经理和财务总监组成。
* 其次，了解发票与成本管理工具中可以找到哪些类型的信息很重要。
* 第三，组织可以使用成本管理工具来实现问责制并获得可见性、控制力和情报。
* 发票只是告诉您一段时间内的支出金额。但很少有组织只对自己的支出感兴趣。 他们想知道为什么花那么多钱。云控制台中内置的成本管理工具可以更有效地回答原因。例如，这些工具将帮助财务总监和 IT 领导者获取更精细的数据、发现趋势并确定控制或优化成本所需采取的行动。
* 成本管理工具的目标是提供可见性、责任、控制和智能，以便企业可以放心地在云中扩展。
  * 可见性：可以使用 Google Cloud 内置报告工具并创建自定义信息中心更好地了解他们的成本。另一个有用的工具是定价计算器。这使组织能够了解改变使用情况将如何影响其成本。
  * 责任：由于云支出是分散的且可变的，因此建立成本问责文化非常重要。
  * 控制：Google Cloud 财务治理政策和权限还可以让您轻松控制谁有能力在整个组织内支出和查看成本。组织还拥有精确的权限，以确保只有组织中的授权人员才有权部署云资源。当支出偏离正轨时，还创建预算和警报以通知关键利益相关者。
  * 智能： 通过 Google Cloud 提供的智能推荐。这些是针对每个组织量身定制的，有助于优化使用、节省管理时间并最大限度地降低成本。组织可以看到这些建议可以轻松应用，立即节省成本并提高效率。

# 云中的安全性
    本模块涵盖了企业需要改变其运营以在云中有效工作的第二种方式：安全性。
    它研究了新的云优先安全模型，并解释了它与传统的本地 IT 安全模型的不同之处。
    该模块首先定义一些与云安全相关的基本术语。
    然后，它考虑了当今最重要的网络安全挑战以及数据隐私和安全最常见的威胁。
    之后，它使用共担责任模型来说明组织如何持续维护数据安全性和合规性。
    最后，它探讨了 Google Cloud 如何帮助组织通过 Cloud Identity 控制和管理对数据和资源的访问。

## 简介
* 在本模块中，我将研究新的云优先安全模型，并解释它与传统的本地 IT 安全模型有何不同。
* 首先我将定义一些与云安全相关的基本术语。
* 然后我将讨论当今最重要的网络安全挑战以及数据隐私和安全最常见的威胁。
* 接下来，我将使用共担责任模型来说明您和您的组织如何持续维护数据安全性和合规性。
* 最后，我将了解 Google Cloud 如何帮助组织通过云身份和对资源层次结构的理解来控制和管理对数据和资源的访问。拥有强大的安全计划对于任何组织的云采用之旅都至关重要。

## 基本术语：隐私、安全、合规性和可用性
* 云技术背景下的隐私是指组织或个人有权访问的数据以及他们可以与谁共享该数据。
* 合规性使数据安全更进一步。这是为了满足第三方制定的标准。该第三方可能是监管机构，也可能是国际标准组织。
* 云中的安全性是指为保证数据安全而制定的策略、程序和控制措施。
* 可用性是指云服务提供商保证您的数据和服务正常运行或可访问的时间。

## 当今最重要的网络安全挑战
* 第一个威胁是持续不断的犯罪袭击。这意味着网络钓鱼攻击者会进行研究以收集有关您或组织中任何人（例如员工或学生）的信息。
* 第二个威胁是物理损坏。这意味着即使物理硬件损坏，组织仍然要对数据丢失负责。
* 第三个威胁是恶意软件、病毒和勒索软件攻击。数据可能会因病毒或恶意软件而丢失、损坏或毁坏。
* 第四个风险是不安全的第三方系统。没有足够的安全措施和定期检查，这些系统可能会对数据安全构成威胁。
* 最后，配置错误是组织面临的另一个风险。虽然这可能是由于缺乏专业知识造成的，但即使是专家云工程师也可能会错误配置系统。

## 共担责任模型 - 第一部分
* 使用云技术的优势在于，保护数据的责任由企业和云提供商共同承担。客户的核心责任是确保数据访问的安全，而云提供商（在本例中为 Google Cloud）则负责保护底层基础设施的安全。
* Google Cloud 产品和服务内置了一层又一层的安全性。
    * 硬件方面：谷歌设计自己的服务器、存储和网络设备。新的服务器构建有一个名为 Titan 的嵌入式芯片。Titan 每次启动时都会检查机器的完整性。
    * 软件方面：Titan 微控制器继续验证操作系统和部署软件堆栈的其余部分。 该服务器不允许连接到网络，并且在确认其运行状况之前它保留零数据。
    * 存储方面：当数据存储在硬盘等物理介质上时，静态加密可以保护数据。这还不是全部。默认情况下，所有静态数据本身也都经过加密，以帮助防止未经授权的访问。
    * 身份方面：尝试访问数据或服务的每个用户和每台机器都必须在每个文件的每个阶段进行严格的身份验证。
    * 网络方面：即进出 Google 基础设施的所有数据在传输过程中都经过加密。
    * 操作方面：安全专家组会实时检测攻击和其他问题并做出响应。

## 共同责任模型 - 第二部分
现在让我们谈谈您的组织在共同责任模型中的责任。  
* 首先，IT 团队需要全面了解谁可以访问哪些数据。只要有可能，他们就需要建立细粒度的访问策略。换句话说，他们需要定义谁可以做什么以及在什么云资源上做什么。通过启用多因素身份验证来防范网络钓鱼，而不会降低用户体验。安全密钥易于使用，可补充密码保护。用户只需插入安全密钥即可，它可以作为员工和潜在网络钓鱼者之间极其有效的保护层。
* 其次，IT 团队和业务决策者需要确保他们了解正在发生的事情、谁在访问哪些数据以及何时访问。这里使用日志记录和监控工具，其中许多工具本身是作为 Google Cloud 服务的一部分提供的。
* 最后，组织如何管理数据泄露？首先，他们需要通过发展态势感知来了解正在发生的事情。其次，组织需要有一种允许团队在压力情况下工作的文化。简而言之，他们需要创造一种开放、无可指责的文化。最后，组织需要为即将发生的事情做好准备。换句话说，他们需要保持行动准备状态。

## 身份和访问管理
Cloud Identity 是一种 Google Cloud 解决方案，可帮助组织控制和管理对资源的访问，以维护数据和系统的安全性和完整性。  
* 身份访问管理策略或 IAM 策略由三部分组成：“谁”，“可以做什么”，和“利用哪个资源”。
  * IAM 政策的“谁”部分可以是 Google 帐号、Google 群组、服务帐号或者 Google Workspace 或 Cloud Identity 网域。
  * “可以做什么”部分由 IAM 角色定义。 IAM 中有三种角色：基本，预定义和自定义。
    * 基本角色包括所有者、编辑者和查看者。
    * Google Cloud 服务会提供自己的一组预定义角色，这些角色与使用这些服务的人员的典型职责相一致。每个角色都是权限的集合。
    * 自定义角色可以实施“最小权限”模型，在该模型中，组织中的每个人都被授予完成其工作所需的最低权限。
    * 组织可以轻松地将组织内的工作职能映射到特定组。然后可以为每个组赋予特定资源的特定角色。这意味着用户只能访问完成工作所需的内容，而管理员可以向整个用户组授予默认权限。

## 资源层次结构
控制和管理访问的另一个方面与资源层次结构相关，或者换句话说，与用户可以访问哪些资源相关。  
* 在云环境中，项目是启用和使用 Google Cloud 功能的基础。资源可以是任何 Google Cloud 服务。项目消耗的任何资源都会连接到层次结构中的项目。企业通常运行多个云项目，因此可以将项目组织到文件夹中。文件夹可以包含项目、其他文件夹或两者的组合。
* 通过资源层次结构，IT 团队可以管理相关资源组的访问和权限。从顶部开始，Google Cloud 中管理的所有内容都位于一个网域和一个组织下。该域名通过 Cloud Identity 进行处理，并帮助管理用户个人资料。该组织通过 Cloud Console 进行管理，并允许管理员查看和控制 Google Cloud 资源和权限。项目属于组织而不是创建它们的用户。项目用于对 Google Cloud 资源进行分组。项目可以存在于文件夹下，因此可以对其进行逻辑分组以匹配公司的实际组织结构。它还可以从其上方的任何文件夹以及顶部的组织继承权限，从而可以轻松设置组织范围的规则和策略，这些规则和策略向下级联并在整个层次结构中强制执行。文件夹和项目可以具有允许管理员控制谁可以创建、编辑或仅查看其中资源的权限。
* 对于资源管理很重要的另外两个角色是 Cloud Billing 帐户和付款资料。Cloud Billing 帐户位于组织下，并跟踪关联项目的任何费用。付款资料是位于 Google Cloud 外部的 Google 级资源，用于支付所有 Google 服务的费用，例如 Google Cloud、Google 广告或 Chrome 许可。

# 监控云 IT 服务和运营
    企业必须在云中进行的第三个运营转变是重新评估监控 IT 服务的方式。
    本模块首先探讨 IT 运营挑战，特别是 IT 团队的传统结构，以及为什么该结构会阻碍组织快速交付服务更新或全新的客户体验。
    接下来，它定义了 DevOps 和站点可靠性工程是什么，然后将它们用作 IT 运营变更的框架。
    最后，该模块研究了 Google Cloud 资源监控工具以及它们如何帮助组织保持对其云环境的控制和可见性。

## 简介 
* 在本模块中，我将首先探讨 IT 运营挑战，特别是 IT 团队的传统结构，以及为什么该结构会阻碍组织快速交付服务更新或全新的客户体验。
* 接下来，我将定义 DevOps 和站点可靠性工程是什么，然后将它们用作 IT 运营变更的框架。
* 最后，我将研究 Google Cloud 资源监控工具以及它们如何帮助组织保持对其云环境的控制和可见性。

## IT 开发和运营挑战
* 但服务停机对于 IT 团队来说是不可避免的，首先，开发商应不断改进面向客户的服务。为了有效地做到这一点，他们必须每月、每季度或每年安排系统停机时间。
* 为了让组织在云中蓬勃发展，他们需要通过两种方式调整其 IT 运营。首先，他们需要将对服务可用性的期望从 100% 调整到较低的百分比。其次，他们需要采用开发人员运营或 DevOps 以及站点可靠性工程或 SRE 的最佳实践，以便团队能够更加敏捷、更加协作、责任更明确。
* 云提供商使用标准实践来定义和衡量客户的服务可用性。此实践包括服务级别协议、服务级别目标和服务级别指标。
  * 服务级别协议（SLA ）是云服务提供商和客户之间的合同承诺。SLA 为该服务的质量、可用性和可靠性提供了基线水平。如果提供商不能满足基准服务，最终用户和最终客户将受到影响。 在这种情况下，云提供商将承担通常支付给客户的费用。
  * 服务级别目标（SLO）是 SLA 中的关键要素。它是云服务性能水平的目标，如果服务性能满足或超过 SLO，则由云提供商和客户共享，这意味着最终用户、客户和内部利益相关者都很满意。如果服务性能低于 SLO 并高于SLA或基线性能预期，它不会直接影响最终用户或最终客户，但它确实向云提供商发出减少服务中断和提高服务可靠性的信号，而不是推出服务新的更新。
  * 服务级别指标（SLI） 是对所提供服务的衡量标准。SLI 通常包括可靠性和错误。
  * 错误预算是指服务提供商在最终用户开始感到不满意之前在一定时间内可以累积的错误量。您可以将其视为最终用户的痛苦容忍度，但适用于服务的某个维度，例如可用性、延迟等。错误预算通常是 SLA 和 SLO 之间的空间。此错误预算使开发人员能够清楚地了解在不影响最终用户体验的情况下他们可以尝试多少次失败的修复。

## DevOps 和 SRE
* DevOps（或开发人员运营）是一种理念，旨在在开发人员和运营团队中创建更具协作性和责任感的文化。
* Google 概述了 DevOps 的五个目标：
  * 首先，它允许组织减少孤岛。企业可以通过打破团队之间的障碍来增加和促进协作。
  * 其次，组织需要正常地接受失败。计算机本质上是不可靠的，因此领导者不能指望完美的执行力。
  * 第三，组织需要实施渐进变革。小的增量更改更容易审查，并且如果渐进的更改确实在生产中释放了错误，它可以让团队减少恢复时间，从而使回滚变得简单。
  * 第四，企业应该利用工具和自动化。确定可以自动化的手动工作是高效工作和专注于重要任务的关键。
  * 最后，组织需要衡量一切，衡量是成功的关键衡量标准。如果无法衡量，就无法判断你正在做的事情是否成功。
* 站点可靠性工程（SRE）是一门将软件工程的各个方面应用于操作的学科。SRE 的目标是创建超可扩展且高度可靠的软件系统。最佳实践与 DevOps 目标保持一致

## Google Cloud 资源监控工具 5 分钟
Google Cloud 的运营套件提供了一系列服务和云计算资源，可帮助监控、排查问题并提高组织的 Google Cloud 环境中的应用程序性能。Google Cloud 运维套件中包含的工具分为两大类：第一类是以运维为中心的工具，包括云监控、云日志记录、错误报告和服务监控。第二类是应用性能管理工具，包括Cloud Trace 和 Cloud Profiler。
* Google Cloud Logging 是一项完全托管的服务，可大规模执行，可以提取应用程序和系统日志数据，以及来自 GKE、虚拟机和 Google Cloud 服务的自定义日志数据。
* Cloud Monitoring 提供了一个全面的监控解决方案，可帮助用户实时监测和管理云上应用程序和基础设施的性能和健康状态。它提供了强大的监控、警报、可视化和报告功能，帮助用户及时识别和解决潜在的问题，提高应用程序的可靠性和性能。
* Google Cloud Logging 和 Cloud Monitoring 分别关注于日志管理和监控指标。Cloud Logging 用于收集、存储和管理日志数据，而 Cloud Monitoring 用于收集、监控和分析性能指标。它们可以相互配合使用，提供全面的监控和管理解决方案。
* Cloud Trace 是一个强大的性能追踪工具，帮助开发人员识别和解决应用程序中的性能问题。它提供了请求跟踪、性能分析、可视化和兼容性等功能，使开发人员能够深入了解应用程序的执行情况，并进行性能优化和调试。
* Cloud Profiler 是一个强大的应用程序性能分析工具，帮助开发人员深入了解应用程序的性能特征并进行性能优化。它通过收集和分析运行时性能数据，提供可视化的报告和建议，帮助开发人员发现和解决应用程序中的性能问题，提高应用程序的性能和可靠性。
* Cloud Profiler 主要关注应用程序的运行时性能分析，而 Cloud Trace 主要关注分布式应用程序的请求跟踪和性能分析。Cloud Profiler 用于分析函数调用、方法耗时和内存分配等方面的性能问题，而 Cloud Trace 用于追踪请求在应用程序和服务之间的传递，以及分析请求的执行时间和性能瓶颈。它们可以相互配合使用，提供全面的应用程序性能监测和优化解决方案。

# 课程总结
## 课程总结
我们探讨了组织在云时代需要关注的三个主要运营转变：
* 首先，我们看到组织如何不再投资建设自己的基础设施。相反，他们租用存储空间并从公共云提供商处购买 IT 服务。这使得组织可以根据一段时间内的云使用情况来管理支出。因此，成本规划从资本支出模型转变为运营支出模型。
* 其次，我们探讨了本地 IT 的安全性如何依赖于外围模型。特别是对于 Google Cloud，安全性已内置于基础设施堆栈的每一层，一直到各个数据块。保护数据的责任由云提供商和客户共同承担。
* 最后，我们探讨了业务领导者和 IT 团队需要转变的思维方式，以更好地监控和控制 IT 服务和资源。通过关注 99.99% 的服务可用性而不是 100% 的可用性，企业可以在不影响最终用户体验的情况下推出更新和创新解决方案。通过借鉴 DevOps 和站点可靠性工程，企业可以实施更具协作性的团队结构。
